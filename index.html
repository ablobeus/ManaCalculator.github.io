<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mana Distribution Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
        input, button { margin: 10px 0; padding: 8px; width: 100%; }
        .result { margin-top: 20px; }
    </style>
</head>
<body>
    <h2>Mana Distribution Calculator</h2>
    <label for="colorCount">How many colors does your deck have?</label>
    <input type="number" id="colorCount" min="1">
    <button onclick="generateColorInputs()">Next</button>

    <div id="colorInputs"></div>
    <div id="landsInput" style="display:none;">
        <label for="totalLands">How many lands in your deck?</label>
        <input type="number" id="totalLands" min="1">
        <button onclick="calculateLands()">Calculate</button>
    </div>

    <div class="result" id="results"></div>

    <script>
        function generateColorInputs() {
            const count = parseInt(document.getElementById("colorCount").value);
            const colorInputs = document.getElementById("colorInputs");
            colorInputs.innerHTML = "";
            for (let i = 0; i < count; i++) {
                colorInputs.innerHTML += `
                    <label>Color ${i + 1} Name:</label>
                    <input type="text" id="colorName${i}">
                    <label>Number of pips for this color:</label>
                    <input type="number" id="pips${i}" min="0">
                `;
            }
            document.getElementById("landsInput").style.display = "block";
        }

        function calculateLands() {
            const count = parseInt(document.getElementById("colorCount").value);
            let colorNames = [], pips = [], totalPips = 0;
            for (let i = 0; i < count; i++) {
                colorNames.push(document.getElementById(`colorName${i}`).value);
                const pipCount = parseInt(document.getElementById(`pips${i}`).value);
                pips.push(pipCount);
                totalPips += pipCount;
            }

            const totalLands = parseInt(document.getElementById("totalLands").value);
            const results = document.getElementById("results");
            results.innerHTML = "<h3>Results:</h3>";
            for (let i = 0; i < count; i++) {
                const ratio = pips[i] / totalPips;
                const landsNeeded = Math.round(ratio * totalLands);
                results.innerHTML += `<p>For the color <strong>${colorNames[i]}</strong>, you need <strong>${landsNeeded}</strong> lands.</p>`;
            }
        }
    </script>
</body>
</html>